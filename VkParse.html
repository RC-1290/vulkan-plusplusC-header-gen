<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"> 
<link href="VkParse.css" rel="stylesheet" type="text/css">
<title>Vulkan Spec Parser</title>
</head>

<body>

<h1>Vulkan Spec Parser</h1>
<p>This parser tries to turn <a href="https://github.com/KhronosGroup/Vulkan-Docs/blob/1.0/src/spec/vk.xml">vk.xml</a> into a ++C header file and implementation file. It works on my machineâ„¢.</p>
<p>Status: <span id="statusText">This status text will be replaced by javascript, if the script works.</span></p>
<div id="setupStuff">
<h2>vk.xml</h2>
<p>Paste vk.xml below. You can get the <a href="https://raw.githubusercontent.com/KhronosGroup/Vulkan-Docs/1.0/src/spec/vk.xml">latest version on GitHub</a>.</p>
<textarea id="vkxmlText" placeholder="Fill this with vk.xml" cols="200" rows="12" wrap="off"></textarea>
<div>
<button id="clearXmlTextBtn" title="Clear the vk.xml textarea.">Clear TextArea</button>
<button id="localVkXmlBtn" title="A local version of vk.xml, just in case it can't be loaded from github.">Local vk.xml</button>
<button id="loadRawGithubBtn" title="Load the raw vk.xml directly from GitHub. Let's hope no one replaced the github code with a bunch of weird stuff.">Load from GitHub</button>
</div>
<p>When the textarea above is filled, click the following button to select features and extensions:</p>
<button id="parseTextButton">Parse xml</button>
<h2>Settings</h2>
<div>
<label for="typedefInclude">Typedef include header:</label>
<input id="typedefInclude" type="text" placeholder="../TypeDefs.h"></input>
</div>
<div>
<label for="surfaceInclude">Surface include header:</label>
<input id="surfaceInclude" type="text" placeholder="../WinAPI.h"></input>
</div>
<div>
<label for="vulkanNamespace">Vulkan API namespace:</label>
<input id="vulkanNamespace" type="text" placeholder="Vk"></input>
<label for="implementationDefine">ProcAddrLookup Define:</label>
<input id="implementationDefine" type="text" placeholder="IMPLEMENT_VK_COMMAND_LOOKUP"></input>
</div>

<h2>Features and Extensions</h2>
<div id="featureSelection">This is where features and extensions should show up (using Javascript) once the vk.xml has been parsed.</div>

</div>

<div id="hiddenUntilCreation" class="hidden">

<h2>Vulkan Header</h2>
<button id="headerSelectBtn">Select Header Text</button>
<button id="copyBtn">Copy Header Text</button>
<pre><code id="vulkanHeader">// This header is generated from the Khronos Vulkan XML API Registry,
// https://github.com/KhronosGroup/Vulkan-Docs/blob/1.0/src/spec/vk.xml
// The custom header generator was written by Laurens Mathot (@RC_1290).
// This generated code is also licensed under the Appache License, Version 2.0.
// http://www.apache.org/licenses/LICENSE-2.0
	
// Vulkan Header for C++ compilers.
// A single translation unit (e.g.: a .cpp file) that includes this header, must have <span class="ProccAddrLookupImplDefine">IMPLEMENT_VK_COMMAND_LOOKUP</span> defined.
// You can then call LoadIndependentCommands and LoadInstanceCommands, to load the ProcAddresses.
	
#pragma once

<div id="extraIncludes"></div>
namespace <span class="namespaceVulkan">Vk</span>
{
	// Handles:<div id ="handles"></div>
	
	// constants and enums:<div id="enums"></div>
	
	// Structs:<div id="structs"></div>
	
	// Function pointer type definitions:
	namespace PFN
	{<div id="commandTypeDefs"></div>	}
	<div id="externPfns"></div>
}

// Proc address retrieval implementation:
#ifdef <span class="ProccAddrLookupImplDefine">IMPLEMENT_VK_COMMAND_LOOKUP</span>

extern "C" <span id="vkGetInstanceProcAddrDefine"></span>

namespace <span class="namespaceVulkan">Vk</span>
{<div id="cmdDefs"></div>}
namespace <span class="namespaceNewCode">CodeAnimo</span>
{
	namespace <span class="namespaceNewCode2">Vulkan</span>
	{
		bool LoadIndependentCommands()
		{<div id="independentCmdLoading"></div>
			return true;
		}
		bool LoadInstanceCommands( Vk::Instance instance)
		{<div id="instanceCmdLoading"></div>
			return true;
		}
	}
}
#endif
</code></pre>

</div>
<script src="vkParse.js" type="text/javascript"></script>
</body>
</html>